{% extends 'index.html' %}
{% load static %}
{% block body %}
	<!-- register -->
{% if error == "create" %}
<script>
    alert('Add a new Doctor Successfully');
    window.location="{% url 'view_doctor' %}";
</script>
{% endif %}


	<section class="logins py-5">
		<div class="container py-xl-5 py-lg-3">
			<div class="title-section mb-md-5 mb-4">
				<h6 class="w3ls-title-sub"></h6><br><br>
				<h3 class="w3ls-title text-uppercase font-weight-bold" style="color: var(--neon-orange); text-shadow: 0 0 15px rgba(255, 165, 0, 0.5); font-size: 2.5rem;">Add Doctor</h3>
			</div><hr/>
			<div class="login px-sm-12" style="width:100%">
				<form action="{% if doctor %}/change_doctor/{{doctor.id}}/{% else %}/add_doctor{% endif %}" method="post" enctype="multipart/form-data" class="modern-doctor-form">
					{% csrf_token %}
					{% if not doctor %}
					<div class="form-group row mb-4">
						<div class="col-md-6 mb-3">
							<label style="color: var(--text-primary); font-weight: 500; margin-bottom: 8px;">First Name</label>
							<input type="text" class="form-control modern-input" name="first_name" placeholder="First Name" required="" value="{{doctor.user.first_name}}"
								style="background: var(--dark-surface); border: 2px solid rgba(255, 165, 0, 0.3); border-radius: 10px; padding: 12px 15px; color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease;">
						</div>
						<div class="col-md-6 mb-3">
							<label style="color: var(--text-primary); font-weight: 500; margin-bottom: 8px;">Last Name</label>
							<input type="text" class="form-control modern-input" name="last_name" placeholder="Last Name" required=""
								style="background: var(--dark-surface); border: 2px solid rgba(255, 165, 0, 0.3); border-radius: 10px; padding: 12px 15px; color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease;">
						</div>
					</div>
					<div class="form-group row mb-4">
						<div class="col-md-6 mb-3">
							<label style="color: var(--text-primary); font-weight: 500; margin-bottom: 8px;">Username</label>
							<input type="text" class="form-control modern-input" name="username" placeholder="Username" required=""
								style="background: var(--dark-surface); border: 2px solid rgba(255, 165, 0, 0.3); border-radius: 10px; padding: 12px 15px; color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease;">
						</div>
						<div class="col-md-6 mb-3">
							<label style="color: var(--text-primary); font-weight: 500; margin-bottom: 8px;">Password</label>
							<input type="password" class="form-control modern-input" name="password" placeholder="Password" required=""
								style="background: var(--dark-surface); border: 2px solid rgba(255, 165, 0, 0.3); border-radius: 10px; padding: 12px 15px; color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease;">
						</div>
					</div>
					{% endif %}
					<div class="form-group row mb-4">
						<div class="col-md-6 mb-3">
							<label style="color: var(--text-primary); font-weight: 500; margin-bottom: 8px;">Email</label>
							<input type="email" class="form-control modern-input" name="email" placeholder="Enter Email" required="" value="{{doctor.user.email}}" {% if doctor %}readonly{% endif %}
								style="background: var(--dark-surface); border: 2px solid rgba(255, 165, 0, 0.3); border-radius: 10px; padding: 12px 15px; color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease;">
						</div>
						<div class="col-md-6 mb-3">
							<label style="color: var(--text-primary); font-weight: 500; margin-bottom: 8px;">Contact</label>
							<input type="text" class="form-control modern-input" name="contact" placeholder="Enter Contact" required="" value="{{doctor.contact}}"
								style="background: var(--dark-surface); border: 2px solid rgba(255, 165, 0, 0.3); border-radius: 10px; padding: 12px 15px; color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease;">
						</div>
					</div>
					<div class="form-group row mb-4">
						<div class="col-md-6 mb-3">
							<label style="color: var(--text-primary); font-weight: 500; margin-bottom: 8px;">Address</label>
							<input type="text" class="form-control modern-input" name="address" placeholder="Enter Address" required="" value="{{doctor.address}}"
								style="background: var(--dark-surface); border: 2px solid rgba(255, 165, 0, 0.3); border-radius: 10px; padding: 12px 15px; color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease;">
						</div>
						<div class="col-md-6 mb-3">
							<label style="color: var(--text-primary); font-weight: 500; margin-bottom: 8px;">Profile Image</label>
							<input type="file" class="form-control modern-input" name="image"
								style="background: var(--dark-surface); border: 2px solid rgba(255, 165, 0, 0.3); border-radius: 10px; padding: 12px 15px; color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease;">
							{% if doctor %}<span style="color: var(--text-secondary); margin-top: 5px; display: block;">Current: {{doctor.image.url}}</span>{% endif %}
						</div>
					</div>
					<div class="form-group row mb-4">
						<div class="col-md-12">
							<label style="color: var(--text-primary); font-weight: 500; margin-bottom: 8px;">Specialist</label>
							<input class="form-control modern-input" name="category" placeholder="Specialist (e.g., Cardiologist, Neurologist)" value="{{doctor.category}}"
								style="background: var(--dark-surface); border: 2px solid rgba(255, 165, 0, 0.3); border-radius: 10px; padding: 12px 15px; color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease;">
						</div>
					</div>
					<button type="submit" class="btn submit mt-4 w-100" 
						style="background: var(--gradient-warning); border: none; border-radius: 15px; padding: 15px; color: white; font-size: 1.2rem; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; transition: all 0.3s ease; box-shadow: 0 8px 25px rgba(255, 165, 0, 0.3);">
						<i class="fa fa-user-md mr-2"></i>{% if doctor %}Update Doctor{% else %}Register Doctor{% endif %}
					</button>
				</form>
			</div>
		</div>
	</section>
	<!-- //register -->

{% endblock %}